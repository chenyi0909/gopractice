
<!doctype html>
<html lang="zh-CN">
<head>
    <meta name="referrer" content="no-referrer-when-downgrade">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="baidu-site-verification" content="code-7nivAemV0f" />
    <meta name="generator" content="Hugo 0.54.0" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>Goè¯­è¨€åŸºç¡€ä¹‹å•å…ƒæµ‹è¯• | ææ–‡å‘¨çš„åšå®¢</title>
    <meta property="og:title" content="Goè¯­è¨€åŸºç¡€ä¹‹å•å…ƒæµ‹è¯• - ææ–‡å‘¨çš„åšå®¢">
    <meta property="og:type" content="article">

    <meta property="article:published_time" content="2017-06-27T21:00:10&#43;08:00">


    <meta property="article:modified_time" content="2017-06-27T21:00:10&#43;08:00">

    <meta name="Keywords" content="Go,Goæ•™ç¨‹,Goè¯­è¨€æ•™ç¨‹,ææ–‡å‘¨,ä¸ƒç±³">
    <meta name="description" content="ææ–‡å‘¨çš„Blog Goè¯­è¨€æµ‹è¯• å•å…ƒæµ‹è¯• go test">

    <meta name="author" content="ææ–‡å‘¨">
    <meta property="og:url" content="https://www.liwenzhou.com/posts/Go/unit-test/">
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">

    <link rel="stylesheet" href="/css/normalize.css">

    <link rel="stylesheet" href="/css/prism.css">

    <link rel="stylesheet" href="/css/style.css">
    <script type="text/javascript" src="/js/jquery.min.js"></script>






    <link rel="stylesheet" href="/css/sidebar_menu.css">

    <script>
        var _hmt = _hmt || [];
        (function() {
            var hm = document.createElement("script");
            hm.src = "https://hm.baidu.com/hm.js?e0a55b64495e292a238b463a78dd56da";
            var s = document.getElementsByTagName("script")[0];
            s.parentNode.insertBefore(hm, s);
        })();
    </script>

</head>

<body>
<header id="header" class="clearfix">
    <div class="container">
        <div class="col-group">
            <div class="site-name ">

                <a id="logo" href="https://www.liwenzhou.com">
                    ææ–‡å‘¨çš„åšå®¢
                </a>

                <p class="description">æ€»ç»“Goè¯­è¨€å­¦ä¹ ä¹‹è·¯ï¼Œæä¾›å…è´¹çš„Goè¯­è¨€å­¦ä¹ æ•™ç¨‹ï¼Œå¸Œæœ›ä¸å¤§å®¶ä¸€èµ·å­¦ä¹ è¿›æ­¥ã€‚</p>
            </div>
            <div>
                <nav id="nav-menu" class="clearfix">
                    <a class="" href="https://www.liwenzhou.com">é¦–é¡µ</a>

                    <a  href="https://www.liwenzhou.com/archives/" title="å½’æ¡£">å½’æ¡£</a>

                    <a  href="https://www.liwenzhou.com/about/" title="å…³äº">å…³äº</a>

                </nav>
            </div>
        </div>
    </div>
</header>


<div id="body">
    <div class="container">
        <div class="col-group">

            <div class="col-8" id="main">
                <div class="res-cons">
                    <article class="post">
                        <header>
                            <h1 class="post-title">Goè¯­è¨€åŸºç¡€ä¹‹å•å…ƒæµ‹è¯•</h1>
                        </header>
                        <date class="post-meta meta-date">
                            å‘å¸ƒäº2017/06/27 ,æ›´æ–°äº2017/06/27 21:00:10
                        </date>

                        <div class="post-meta meta-category">
                            |

                            <a href="https://www.liwenzhou.com/categories/Golang">Golang</a>

                        </div>


                        <div class="post-meta">
                            <span id="busuanzi_container_page_pv">
                                |æ€»é˜…è¯»é‡ï¼š<span id="busuanzi_value_page_pv"></span>æ¬¡
                            </span>
                        </div>

                        <div class="post-content">
                            <p>ä¸å†™æµ‹è¯•çš„å¼€å‘ä¸æ˜¯å¥½ç¨‹åºå‘˜ã€‚æˆ‘ä¸ªäººéå¸¸å´‡å°šTDDï¼ˆTest Driven Developmentï¼‰çš„ï¼Œç„¶è€Œå¯æƒœçš„æ˜¯å›½å†…çš„ç¨‹åºå‘˜éƒ½ä¸å¤ªå…³æ³¨æµ‹è¯•è¿™ä¸€éƒ¨åˆ†ã€‚
                                è¿™ç¯‡æ–‡ç« ä¸»è¦ä»‹ç»ä¸‹åœ¨Goè¯­è¨€ä¸­å¦‚ä½•åšå•å…ƒæµ‹è¯•å’ŒåŸºå‡†æµ‹è¯•ã€‚</p>

                            <h1 id="go-testå·¥å…·">go testå·¥å…·</h1>

                            <p>Goè¯­è¨€ä¸­çš„æµ‹è¯•ä¾èµ–<code>go test</code>å‘½ä»¤ã€‚ç¼–å†™æµ‹è¯•ä»£ç å’Œç¼–å†™æ™®é€šçš„Goä»£ç è¿‡ç¨‹æ˜¯ç±»ä¼¼çš„ï¼Œå¹¶ä¸éœ€è¦å­¦ä¹ æ–°çš„è¯­æ³•ã€è§„åˆ™æˆ–å·¥å…·ã€‚</p>

                            <p>go testå‘½ä»¤æ˜¯ä¸€ä¸ªæŒ‰ç…§ä¸€å®šçº¦å®šå’Œç»„ç»‡çš„æµ‹è¯•ä»£ç çš„é©±åŠ¨ç¨‹åºã€‚åœ¨åŒ…ç›®å½•å†…ï¼Œæ‰€æœ‰ä»¥<code>_test.go</code>ä¸ºåç¼€åçš„æºä»£ç æ–‡ä»¶éƒ½æ˜¯<code>go test</code>æµ‹è¯•çš„ä¸€éƒ¨åˆ†ï¼Œä¸ä¼šè¢«<code>go build</code>ç¼–è¯‘åˆ°æœ€ç»ˆçš„å¯æ‰§è¡Œæ–‡ä»¶ä¸­ã€‚</p>

                            <p>åœ¨<code>*_test.go</code>æ–‡ä»¶ä¸­æœ‰ä¸‰ç§ç±»å‹çš„å‡½æ•°ï¼Œå•å…ƒæµ‹è¯•å‡½æ•°ã€åŸºå‡†æµ‹è¯•å‡½æ•°å’Œç¤ºä¾‹å‡½æ•°ã€‚</p>

                            <table>
                                <thead>
                                <tr>
                                    <th>ç±»å‹</th>
                                    <th>æ ¼å¼</th>
                                    <th>ä½œç”¨</th>
                                </tr>
                                </thead>

                                <tbody>
                                <tr>
                                    <td>æµ‹è¯•å‡½æ•°</td>
                                    <td>å‡½æ•°åå‰ç¼€ä¸ºTest</td>
                                    <td>æµ‹è¯•ç¨‹åºçš„ä¸€äº›é€»è¾‘è¡Œä¸ºæ˜¯å¦æ­£ç¡®</td>
                                </tr>

                                <tr>
                                    <td>åŸºå‡†å‡½æ•°</td>
                                    <td>å‡½æ•°åå‰ç¼€ä¸ºBenchmark</td>
                                    <td>æµ‹è¯•å‡½æ•°çš„æ€§èƒ½</td>
                                </tr>

                                <tr>
                                    <td>ç¤ºä¾‹å‡½æ•°</td>
                                    <td>å‡½æ•°åå‰ç¼€ä¸ºExample</td>
                                    <td>ä¸ºæ–‡æ¡£æä¾›ç¤ºä¾‹æ–‡æ¡£</td>
                                </tr>
                                </tbody>
                            </table>

                            <p><code>go test</code>å‘½ä»¤ä¼šéå†æ‰€æœ‰çš„<code>*_test.go</code>æ–‡ä»¶ä¸­ç¬¦åˆä¸Šè¿°å‘½åè§„åˆ™çš„å‡½æ•°ï¼Œç„¶åç”Ÿæˆä¸€ä¸ªä¸´æ—¶çš„mainåŒ…ç”¨äºè°ƒç”¨ç›¸åº”çš„æµ‹è¯•å‡½æ•°ï¼Œç„¶åæ„å»ºå¹¶è¿è¡Œã€æŠ¥å‘Šæµ‹è¯•ç»“æœï¼Œæœ€åæ¸…ç†æµ‹è¯•ä¸­ç”Ÿæˆçš„ä¸´æ—¶æ–‡ä»¶ã€‚</p>

                            <h1 id="æµ‹è¯•å‡½æ•°">æµ‹è¯•å‡½æ•°</h1>

                            <h2 id="æµ‹è¯•å‡½æ•°çš„æ ¼å¼">æµ‹è¯•å‡½æ•°çš„æ ¼å¼</h2>

                            <p>æ¯ä¸ªæµ‹è¯•å‡½æ•°å¿…é¡»å¯¼å…¥<code>testing</code>åŒ…ï¼Œæµ‹è¯•å‡½æ•°çš„åŸºæœ¬æ ¼å¼ï¼ˆç­¾åï¼‰å¦‚ä¸‹ï¼š</p>

                            <pre><code class="language-go">func TestName(t *testing.T){
    // ...
}
</code></pre>

                            <p>æµ‹è¯•å‡½æ•°çš„åå­—å¿…é¡»ä»¥<code>Test</code>å¼€å¤´ï¼Œå¯é€‰çš„åç¼€åå¿…é¡»ä»¥å¤§å†™å­—æ¯å¼€å¤´ï¼Œä¸¾å‡ ä¸ªä¾‹å­ï¼š</p>

                            <pre><code class="language-go">func TestAdd(t *testing.T){ ... }
func TestSum(t *testing.T){ ... }
func TestLog(t *testing.T){ ... }
</code></pre>

                            <p>å…¶ä¸­å‚æ•°<code>t</code>ç”¨äºæŠ¥å‘Šæµ‹è¯•å¤±è´¥å’Œé™„åŠ çš„æ—¥å¿—ä¿¡æ¯ã€‚
                                <code>testing.T</code>çš„æ‹¥æœ‰çš„æ–¹æ³•å¦‚ä¸‹ï¼š</p>

                            <pre><code class="language-go">func (c *T) Error(args ...interface{})
func (c *T) Errorf(format string, args ...interface{})
func (c *T) Fail()
func (c *T) FailNow()
func (c *T) Failed() bool
func (c *T) Fatal(args ...interface{})
func (c *T) Fatalf(format string, args ...interface{})
func (c *T) Log(args ...interface{})
func (c *T) Logf(format string, args ...interface{})
func (c *T) Name() string
func (t *T) Parallel()
func (t *T) Run(name string, f func(t *T)) bool
func (c *T) Skip(args ...interface{})
func (c *T) SkipNow()
func (c *T) Skipf(format string, args ...interface{})
func (c *T) Skipped() bool
</code></pre>

                            <h2 id="æµ‹è¯•å‡½æ•°ç¤ºä¾‹">æµ‹è¯•å‡½æ•°ç¤ºä¾‹</h2>

                            <p>å°±åƒç»†èƒæ˜¯æ„æˆæˆ‘ä»¬èº«ä½“çš„åŸºæœ¬å•ä½ï¼Œä¸€ä¸ªè½¯ä»¶ç¨‹åºä¹Ÿæ˜¯ç”±å¾ˆå¤šå•å…ƒç»„ä»¶æ„æˆçš„ã€‚å•å…ƒç»„ä»¶å¯ä»¥æ˜¯å‡½æ•°ã€ç»“æ„ä½“ã€æ–¹æ³•å’Œæœ€ç»ˆç”¨æˆ·å¯èƒ½ä¾èµ–çš„ä»»æ„ä¸œè¥¿ã€‚æ€»ä¹‹æˆ‘ä»¬éœ€è¦ç¡®ä¿è¿™äº›ç»„ä»¶æ˜¯èƒ½å¤Ÿæ­£å¸¸è¿è¡Œçš„ã€‚å•å…ƒæµ‹è¯•æ˜¯ä¸€äº›åˆ©ç”¨å„ç§æ–¹æ³•æµ‹è¯•å•å…ƒç»„ä»¶çš„ç¨‹åºï¼Œå®ƒä¼šå°†ç»“æœä¸é¢„æœŸè¾“å‡ºè¿›è¡Œæ¯”è¾ƒã€‚</p>

                            <p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å®šä¹‰ä¸€ä¸ª<code>split</code>çš„åŒ…ï¼ŒåŒ…ä¸­å®šä¹‰äº†ä¸€ä¸ª<code>Split</code>å‡½æ•°ï¼Œå…·ä½“å®ç°å¦‚ä¸‹ï¼š</p>

                            <pre><code class="language-go">// split/split.go

package split

import &quot;strings&quot;

// split package with a single split function.

// Split slices s into all substrings separated by sep and
// returns a slice of the substrings between those separators.
func Split(s, sep string) (result []string) {
	i := strings.Index(s, sep)

	for i &gt; -1 {
		result = append(result, s[:i])
		s = s[i+1:]
		i = strings.Index(s, sep)
	}
	result = append(result, s)
	return
}
</code></pre>

                            <p>åœ¨å½“å‰ç›®å½•ä¸‹ï¼Œæˆ‘ä»¬åˆ›å»ºä¸€ä¸ª<code>split_test.go</code>çš„æµ‹è¯•æ–‡ä»¶ï¼Œå¹¶å®šä¹‰ä¸€ä¸ªæµ‹è¯•å‡½æ•°å¦‚ä¸‹ï¼š</p>

                            <pre><code class="language-go">// split/split_test.go

package split

import (
	&quot;reflect&quot;
	&quot;testing&quot;
)

func TestSplit(t *testing.T) { // æµ‹è¯•å‡½æ•°åå¿…é¡»ä»¥Testå¼€å¤´ï¼Œå¿…é¡»æ¥æ”¶ä¸€ä¸ª*testing.Tç±»å‹å‚æ•°
	got := Split(&quot;a:b:c&quot;, &quot;:&quot;)         // ç¨‹åºè¾“å‡ºçš„ç»“æœ
	want := []string{&quot;a&quot;, &quot;b&quot;, &quot;c&quot;}    // æœŸæœ›çš„ç»“æœ
	if !reflect.DeepEqual(want, got) { // å› ä¸ºsliceä¸èƒ½æ¯”è¾ƒç›´æ¥ï¼Œå€ŸåŠ©åå°„åŒ…ä¸­çš„æ–¹æ³•æ¯”è¾ƒ
		t.Errorf(&quot;expected:%v, got:%v&quot;, want, got) // æµ‹è¯•å¤±è´¥è¾“å‡ºé”™è¯¯æç¤º
	}
}
</code></pre>

                            <p>æ­¤æ—¶<code>split</code>è¿™ä¸ªåŒ…ä¸­çš„æ–‡ä»¶å¦‚ä¸‹ï¼š</p>

                            <pre><code class="language-bash">split $ ls -l
total 16
-rw-r--r--  1 liwenzhou  staff  408  4 29 15:50 split.go
-rw-r--r--  1 liwenzhou  staff  466  4 29 16:04 split_test.go
</code></pre>

                            <p>åœ¨<code>split</code>åŒ…è·¯å¾„ä¸‹ï¼Œæ‰§è¡Œ<code>go test</code>å‘½ä»¤ï¼Œå¯ä»¥çœ‹åˆ°è¾“å‡ºç»“æœå¦‚ä¸‹ï¼š</p>

                            <pre><code class="language-bash">split $ go test
PASS
ok      github.com/Q1mi/studygo/code_demo/test_demo/split       0.005s
</code></pre>

                            <p>ä¸€ä¸ªæµ‹è¯•ç”¨ä¾‹æœ‰ç‚¹å•è–„ï¼Œæˆ‘ä»¬å†ç¼–å†™ä¸€ä¸ªæµ‹è¯•ä½¿ç”¨å¤šä¸ªå­—ç¬¦åˆ‡å‰²å­—ç¬¦ä¸²çš„ä¾‹å­ï¼Œåœ¨<code>split_test.go</code>ä¸­æ·»åŠ å¦‚ä¸‹æµ‹è¯•å‡½æ•°ï¼š</p>

                            <pre><code class="language-go">func TestMoreSplit(t *testing.T) {
	got := Split(&quot;abcd&quot;, &quot;bc&quot;)
	want := []string{&quot;a&quot;, &quot;d&quot;}
	if !reflect.DeepEqual(want, got) {
		t.Errorf(&quot;expected:%v, got:%v&quot;, want, got)
	}
}
</code></pre>

                            <p>å†æ¬¡è¿è¡Œ<code>go test</code>å‘½ä»¤ï¼Œè¾“å‡ºç»“æœå¦‚ä¸‹ï¼š</p>

                            <pre><code class="language-bash">split $ go test
--- FAIL: TestMultiSplit (0.00s)
    split_test.go:20: expected:[a d], got:[a cd]
FAIL
exit status 1
FAIL    github.com/Q1mi/studygo/code_demo/test_demo/split       0.006s
</code></pre>

                            <p>è¿™ä¸€æ¬¡ï¼Œæˆ‘ä»¬çš„æµ‹è¯•å¤±è´¥äº†ã€‚æˆ‘ä»¬å¯ä»¥ä¸º<code>go test</code>å‘½ä»¤æ·»åŠ <code>-v</code>å‚æ•°ï¼ŒæŸ¥çœ‹æµ‹è¯•å‡½æ•°åç§°å’Œè¿è¡Œæ—¶é—´ï¼š</p>

                            <pre><code class="language-bash">split $ go test -v
=== RUN   TestSplit
--- PASS: TestSplit (0.00s)
=== RUN   TestMoreSplit
--- FAIL: TestMoreSplit (0.00s)
    split_test.go:21: expected:[a d], got:[a cd]
FAIL
exit status 1
FAIL    github.com/Q1mi/studygo/code_demo/test_demo/split       0.005s
</code></pre>

                            <p>è¿™ä¸€æ¬¡æˆ‘ä»¬èƒ½æ¸…æ¥šçš„çœ‹åˆ°æ˜¯<code>TestMoreSplit</code>è¿™ä¸ªæµ‹è¯•æ²¡æœ‰æˆåŠŸã€‚
                                è¿˜å¯ä»¥åœ¨<code>go test</code>å‘½ä»¤åæ·»åŠ <code>-run</code>å‚æ•°ï¼Œå®ƒå¯¹åº”ä¸€ä¸ªæ­£åˆ™è¡¨è¾¾å¼ï¼Œåªæœ‰å‡½æ•°ååŒ¹é…ä¸Šçš„æµ‹è¯•å‡½æ•°æ‰ä¼šè¢«<code>go test</code>å‘½ä»¤æ‰§è¡Œã€‚</p>

                            <pre><code class="language-bash">split $ go test -v -run=&quot;More&quot;
=== RUN   TestMoreSplit
--- FAIL: TestMoreSplit (0.00s)
    split_test.go:21: expected:[a d], got:[a cd]
FAIL
exit status 1
FAIL    github.com/Q1mi/studygo/code_demo/test_demo/split       0.006s
</code></pre>

                            <p>ç°åœ¨æˆ‘ä»¬å›è¿‡å¤´æ¥è§£å†³æˆ‘ä»¬ç¨‹åºä¸­çš„é—®é¢˜ã€‚å¾ˆæ˜¾ç„¶æˆ‘ä»¬æœ€åˆçš„<code>split</code>å‡½æ•°å¹¶æ²¡æœ‰è€ƒè™‘åˆ°sepä¸ºå¤šä¸ªå­—ç¬¦çš„æƒ…å†µï¼Œæˆ‘ä»¬æ¥ä¿®å¤ä¸‹è¿™ä¸ªBugï¼š</p>

                            <pre><code class="language-go">package split

import &quot;strings&quot;

// split package with a single split function.

// Split slices s into all substrings separated by sep and
// returns a slice of the substrings between those separators.
func Split(s, sep string) (result []string) {
	i := strings.Index(s, sep)

	for i &gt; -1 {
		result = append(result, s[:i])
		s = s[i+len(sep):] // è¿™é‡Œä½¿ç”¨len(sep)è·å–sepçš„é•¿åº¦
		i = strings.Index(s, sep)
	}
	result = append(result, s)
	return
}
</code></pre>

                            <p>è¿™ä¸€æ¬¡æˆ‘ä»¬å†æ¥æµ‹è¯•ä¸€ä¸‹ï¼Œæˆ‘ä»¬çš„ç¨‹åºã€‚æ³¨æ„ï¼Œå½“æˆ‘ä»¬ä¿®æ”¹äº†æˆ‘ä»¬çš„ä»£ç ä¹‹åä¸è¦ä»…ä»…æ‰§è¡Œé‚£äº›å¤±è´¥çš„æµ‹è¯•å‡½æ•°ï¼Œæˆ‘ä»¬åº”è¯¥å®Œæ•´çš„è¿è¡Œæ‰€æœ‰çš„æµ‹è¯•ï¼Œä¿è¯ä¸ä¼šå› ä¸ºä¿®æ”¹ä»£ç è€Œå¼•å…¥äº†æ–°çš„é—®é¢˜ã€‚</p>

                            <pre><code class="language-bash">split $ go test -v
=== RUN   TestSplit
--- PASS: TestSplit (0.00s)
=== RUN   TestMoreSplit
--- PASS: TestMoreSplit (0.00s)
PASS
ok      github.com/Q1mi/studygo/code_demo/test_demo/split       0.006s
</code></pre>

                            <p>è¿™ä¸€æ¬¡æˆ‘ä»¬çš„æµ‹è¯•éƒ½é€šè¿‡äº†ã€‚</p>

                            <h2 id="æµ‹è¯•ç»„">æµ‹è¯•ç»„</h2>

                            <p>æˆ‘ä»¬ç°åœ¨è¿˜æƒ³è¦æµ‹è¯•ä¸€ä¸‹<code>split</code>å‡½æ•°å¯¹ä¸­æ–‡å­—ç¬¦ä¸²çš„æ”¯æŒï¼Œè¿™ä¸ªæ—¶å€™æˆ‘ä»¬å¯ä»¥å†ç¼–å†™ä¸€ä¸ª<code>TestChineseSplit</code>æµ‹è¯•å‡½æ•°ï¼Œä½†æ˜¯æˆ‘ä»¬ä¹Ÿå¯ä»¥ä½¿ç”¨å¦‚ä¸‹æ›´å‹å¥½çš„ä¸€ç§æ–¹å¼æ¥æ·»åŠ æ›´å¤šçš„æµ‹è¯•ç”¨ä¾‹ã€‚</p>

                            <pre><code class="language-go">func TestSplit(t *testing.T) {
   // å®šä¹‰ä¸€ä¸ªæµ‹è¯•ç”¨ä¾‹ç±»å‹
	type test struct {
		input string
		sep   string
		want  []string
	}
	// å®šä¹‰ä¸€ä¸ªå­˜å‚¨æµ‹è¯•ç”¨ä¾‹çš„åˆ‡ç‰‡
	tests := []test{
		{input: &quot;a:b:c&quot;, sep: &quot;:&quot;, want: []string{&quot;a&quot;, &quot;b&quot;, &quot;c&quot;}},
		{input: &quot;a:b:c&quot;, sep: &quot;,&quot;, want: []string{&quot;a:b:c&quot;}},
		{input: &quot;abcd&quot;, sep: &quot;bc&quot;, want: []string{&quot;a&quot;, &quot;d&quot;}},
		{input: &quot;æ²™æ²³æœ‰æ²™åˆæœ‰æ²³&quot;, sep: &quot;æ²™&quot;, want: []string{&quot;æ²³æœ‰&quot;, &quot;åˆæœ‰æ²³&quot;}},
	}
	// éå†åˆ‡ç‰‡ï¼Œé€ä¸€æ‰§è¡Œæµ‹è¯•ç”¨ä¾‹
	for _, tc := range tests {
		got := Split(tc.input, tc.sep)
		if !reflect.DeepEqual(got, tc.want) {
			t.Errorf(&quot;expected:%v, got:%v&quot;, tc.want, got)
		}
	}
}
</code></pre>

                            <p>æˆ‘ä»¬é€šè¿‡ä¸Šé¢çš„ä»£ç æŠŠå¤šä¸ªæµ‹è¯•ç”¨ä¾‹åˆåˆ°ä¸€èµ·ï¼Œå†æ¬¡æ‰§è¡Œ<code>go test</code>å‘½ä»¤ã€‚</p>

                            <pre><code class="language-bash">split $ go test -v
=== RUN   TestSplit
--- FAIL: TestSplit (0.00s)
    split_test.go:42: expected:[æ²³æœ‰ åˆæœ‰æ²³], got:[ æ²³æœ‰ åˆæœ‰æ²³]
FAIL
exit status 1
FAIL    github.com/Q1mi/studygo/code_demo/test_demo/split       0.006s
</code></pre>

                            <p>æˆ‘ä»¬çš„æµ‹è¯•å‡ºç°äº†é—®é¢˜ï¼Œä»”ç»†çœ‹æ‰“å°çš„æµ‹è¯•å¤±è´¥æç¤ºä¿¡æ¯ï¼š<code>expected:[æ²³æœ‰ åˆæœ‰æ²³], got:[ æ²³æœ‰ åˆæœ‰æ²³]</code>ï¼Œä½ ä¼šå‘ç°<code>[ æ²³æœ‰ åˆæœ‰æ²³]</code>ä¸­æœ‰ä¸ªä¸æ˜æ˜¾çš„ç©ºä¸²ï¼Œè¿™ç§æƒ…å†µä¸‹ååˆ†æ¨èä½¿ç”¨<code>%#v</code>çš„æ ¼å¼åŒ–æ–¹å¼ã€‚</p>

                            <p>æˆ‘ä»¬ä¿®æ”¹ä¸‹æµ‹è¯•ç”¨ä¾‹çš„æ ¼å¼åŒ–è¾“å‡ºé”™è¯¯æç¤ºéƒ¨åˆ†ï¼š</p>

                            <pre><code class="language-go">func TestSplit(t *testing.T) {
   ...
   
	for _, tc := range tests {
		got := Split(tc.input, tc.sep)
		if !reflect.DeepEqual(got, tc.want) {
			t.Errorf(&quot;expected:%#v, got:%#v&quot;, tc.want, got)
		}
	}
}
</code></pre>

                            <p>æ­¤æ—¶è¿è¡Œ<code>go test</code>å‘½ä»¤åå°±èƒ½çœ‹åˆ°æ¯”è¾ƒæ˜æ˜¾çš„æç¤ºä¿¡æ¯äº†ï¼š</p>

                            <pre><code class="language-bash">split $ go test -v
=== RUN   TestSplit
--- FAIL: TestSplit (0.00s)
    split_test.go:42: expected:[]string{&quot;æ²³æœ‰&quot;, &quot;åˆæœ‰æ²³&quot;}, got:[]string{&quot;&quot;, &quot;æ²³æœ‰&quot;, &quot;åˆæœ‰æ²³&quot;}
FAIL
exit status 1
FAIL    github.com/Q1mi/studygo/code_demo/test_demo/split       0.006s
</code></pre>

                            <h2 id="å­æµ‹è¯•">å­æµ‹è¯•</h2>

                            <p>çœ‹èµ·æ¥éƒ½æŒºä¸é”™çš„ï¼Œä½†æ˜¯å¦‚æœæµ‹è¯•ç”¨ä¾‹æ¯”è¾ƒå¤šçš„æ—¶å€™ï¼Œæˆ‘ä»¬æ˜¯æ²¡åŠæ³•ä¸€çœ¼çœ‹å‡ºæ¥å…·ä½“æ˜¯å“ªä¸ªæµ‹è¯•ç”¨ä¾‹å¤±è´¥äº†ã€‚æˆ‘ä»¬å¯èƒ½ä¼šæƒ³åˆ°ä¸‹é¢çš„è§£å†³åŠæ³•ï¼š</p>

                            <pre><code class="language-go">func TestSplit(t *testing.T) {
	type test struct { // å®šä¹‰testç»“æ„ä½“
		input string
		sep   string
		want  []string
	}
	tests := map[string]test{ // æµ‹è¯•ç”¨ä¾‹ä½¿ç”¨mapå­˜å‚¨
		&quot;simple&quot;:      {input: &quot;a:b:c&quot;, sep: &quot;:&quot;, want: []string{&quot;a&quot;, &quot;b&quot;, &quot;c&quot;}},
		&quot;wrong sep&quot;:   {input: &quot;a:b:c&quot;, sep: &quot;,&quot;, want: []string{&quot;a:b:c&quot;}},
		&quot;more sep&quot;:    {input: &quot;abcd&quot;, sep: &quot;bc&quot;, want: []string{&quot;a&quot;, &quot;d&quot;}},
		&quot;leading sep&quot;: {input: &quot;æ²™æ²³æœ‰æ²™åˆæœ‰æ²³&quot;, sep: &quot;æ²™&quot;, want: []string{&quot;æ²³æœ‰&quot;, &quot;åˆæœ‰æ²³&quot;}},
	}
	for name, tc := range tests {
		got := Split(tc.input, tc.sep)
		if !reflect.DeepEqual(got, tc.want) {
			t.Errorf(&quot;name:%s expected:%#v, got:%#v&quot;, name, tc.want, got) // å°†æµ‹è¯•ç”¨ä¾‹çš„nameæ ¼å¼åŒ–è¾“å‡º
		}
	}
}
</code></pre>

                            <p>ä¸Šé¢çš„åšæ³•æ˜¯èƒ½å¤Ÿè§£å†³é—®é¢˜çš„ã€‚åŒæ—¶Go1.7+ä¸­æ–°å¢äº†å­æµ‹è¯•ï¼Œæˆ‘ä»¬å¯ä»¥æŒ‰ç…§å¦‚ä¸‹æ–¹å¼ä½¿ç”¨<code>t.Run</code>æ‰§è¡Œå­æµ‹è¯•ï¼š</p>

                            <pre><code class="language-go">func TestSplit(t *testing.T) {
	type test struct { // å®šä¹‰testç»“æ„ä½“
		input string
		sep   string
		want  []string
	}
	tests := map[string]test{ // æµ‹è¯•ç”¨ä¾‹ä½¿ç”¨mapå­˜å‚¨
		&quot;simple&quot;:      {input: &quot;a:b:c&quot;, sep: &quot;:&quot;, want: []string{&quot;a&quot;, &quot;b&quot;, &quot;c&quot;}},
		&quot;wrong sep&quot;:   {input: &quot;a:b:c&quot;, sep: &quot;,&quot;, want: []string{&quot;a:b:c&quot;}},
		&quot;more sep&quot;:    {input: &quot;abcd&quot;, sep: &quot;bc&quot;, want: []string{&quot;a&quot;, &quot;d&quot;}},
		&quot;leading sep&quot;: {input: &quot;æ²™æ²³æœ‰æ²™åˆæœ‰æ²³&quot;, sep: &quot;æ²™&quot;, want: []string{&quot;æ²³æœ‰&quot;, &quot;åˆæœ‰æ²³&quot;}},
	}
	for name, tc := range tests {
		t.Run(name, func(t *testing.T) { // ä½¿ç”¨t.Run()æ‰§è¡Œå­æµ‹è¯•
			got := Split(tc.input, tc.sep)
			if !reflect.DeepEqual(got, tc.want) {
				t.Errorf(&quot;expected:%#v, got:%#v&quot;, tc.want, got)
			}
		})
	}
}
</code></pre>

                            <p>æ­¤æ—¶æˆ‘ä»¬å†æ‰§è¡Œ<code>go test</code>å‘½ä»¤å°±èƒ½å¤Ÿçœ‹åˆ°æ›´æ¸…æ™°çš„è¾“å‡ºå†…å®¹äº†ï¼š</p>

                            <pre><code class="language-bash">split $ go test -v
=== RUN   TestSplit
=== RUN   TestSplit/leading_sep
=== RUN   TestSplit/simple
=== RUN   TestSplit/wrong_sep
=== RUN   TestSplit/more_sep
--- FAIL: TestSplit (0.00s)
    --- FAIL: TestSplit/leading_sep (0.00s)
        split_test.go:83: expected:[]string{&quot;æ²³æœ‰&quot;, &quot;åˆæœ‰æ²³&quot;}, got:[]string{&quot;&quot;, &quot;æ²³æœ‰&quot;, &quot;åˆæœ‰æ²³&quot;}
    --- PASS: TestSplit/simple (0.00s)
    --- PASS: TestSplit/wrong_sep (0.00s)
    --- PASS: TestSplit/more_sep (0.00s)
FAIL
exit status 1
FAIL    github.com/Q1mi/studygo/code_demo/test_demo/split       0.006s
</code></pre>

                            <p>è¿™ä¸ªæ—¶å€™æˆ‘ä»¬è¦æŠŠæµ‹è¯•ç”¨ä¾‹ä¸­çš„é”™è¯¯ä¿®æ”¹å›æ¥ï¼š</p>

                            <pre><code class="language-go">func TestSplit(t *testing.T) {
	...
	tests := map[string]test{ // æµ‹è¯•ç”¨ä¾‹ä½¿ç”¨mapå­˜å‚¨
		&quot;simple&quot;:      {input: &quot;a:b:c&quot;, sep: &quot;:&quot;, want: []string{&quot;a&quot;, &quot;b&quot;, &quot;c&quot;}},
		&quot;wrong sep&quot;:   {input: &quot;a:b:c&quot;, sep: &quot;,&quot;, want: []string{&quot;a:b:c&quot;}},
		&quot;more sep&quot;:    {input: &quot;abcd&quot;, sep: &quot;bc&quot;, want: []string{&quot;a&quot;, &quot;d&quot;}},
		&quot;leading sep&quot;: {input: &quot;æ²™æ²³æœ‰æ²™åˆæœ‰æ²³&quot;, sep: &quot;æ²™&quot;, want: []string{&quot;&quot;, &quot;æ²³æœ‰&quot;, &quot;åˆæœ‰æ²³&quot;}},
	}
	...
}
</code></pre>

                            <p>æˆ‘ä»¬éƒ½çŸ¥é“å¯ä»¥é€šè¿‡<code>-run=RegExp</code>æ¥æŒ‡å®šè¿è¡Œçš„æµ‹è¯•ç”¨ä¾‹ï¼Œè¿˜å¯ä»¥é€šè¿‡<code>/</code>æ¥æŒ‡å®šè¦è¿è¡Œçš„å­æµ‹è¯•ç”¨ä¾‹ï¼Œä¾‹å¦‚ï¼š<code>go test -v -run=Split/simple</code>åªä¼šè¿è¡Œ<code>simple</code>å¯¹åº”çš„å­æµ‹è¯•ç”¨ä¾‹ã€‚</p>

                            <h2 id="æµ‹è¯•è¦†ç›–ç‡">æµ‹è¯•è¦†ç›–ç‡</h2>

                            <p>æµ‹è¯•è¦†ç›–ç‡æ˜¯ä½ çš„ä»£ç è¢«æµ‹è¯•å¥—ä»¶è¦†ç›–çš„ç™¾åˆ†æ¯”ã€‚é€šå¸¸æˆ‘ä»¬ä½¿ç”¨çš„éƒ½æ˜¯è¯­å¥çš„è¦†ç›–ç‡ï¼Œä¹Ÿå°±æ˜¯åœ¨æµ‹è¯•ä¸­è‡³å°‘è¢«è¿è¡Œä¸€æ¬¡çš„ä»£ç å æ€»ä»£ç çš„æ¯”ä¾‹ã€‚</p>

                            <p>Goæä¾›å†…ç½®åŠŸèƒ½æ¥æ£€æŸ¥ä½ çš„ä»£ç è¦†ç›–ç‡ã€‚æˆ‘ä»¬å¯ä»¥ä½¿ç”¨<code>go test -cover</code>æ¥æŸ¥çœ‹æµ‹è¯•è¦†ç›–ç‡ã€‚ä¾‹å¦‚ï¼š</p>

                            <pre><code class="language-bash">split $ go test -cover
PASS
coverage: 100.0% of statements
ok      github.com/Q1mi/studygo/code_demo/test_demo/split       0.005s
</code></pre>

                            <p>ä»ä¸Šé¢çš„ç»“æœå¯ä»¥çœ‹åˆ°æˆ‘ä»¬çš„æµ‹è¯•ç”¨ä¾‹è¦†ç›–äº†100%çš„ä»£ç ã€‚</p>

                            <p>Goè¿˜æä¾›äº†ä¸€ä¸ªé¢å¤–çš„<code>-coverprofile</code>å‚æ•°ï¼Œç”¨æ¥å°†è¦†ç›–ç‡ç›¸å…³çš„è®°å½•ä¿¡æ¯è¾“å‡ºåˆ°ä¸€ä¸ªæ–‡ä»¶ã€‚ä¾‹å¦‚ï¼š</p>

                            <pre><code class="language-bash">split $ go test -cover -coverprofile=c.out
PASS
coverage: 100.0% of statements
ok      github.com/Q1mi/studygo/code_demo/test_demo/split       0.005s
</code></pre>

                            <p>ä¸Šé¢çš„å‘½ä»¤ä¼šå°†è¦†ç›–ç‡ç›¸å…³çš„ä¿¡æ¯è¾“å‡ºåˆ°å½“å‰æ–‡ä»¶å¤¹ä¸‹é¢çš„<code>c.out</code>æ–‡ä»¶ä¸­ï¼Œç„¶åæˆ‘ä»¬æ‰§è¡Œ<code>go tool cover -html=c.out</code>ï¼Œä½¿ç”¨<code>cover</code>å·¥å…·æ¥å¤„ç†ç”Ÿæˆçš„è®°å½•ä¿¡æ¯ï¼Œè¯¥å‘½ä»¤ä¼šæ‰“å¼€æœ¬åœ°çš„æµè§ˆå™¨çª—å£ç”Ÿæˆä¸€ä¸ªHTMLæŠ¥å‘Šã€‚
                                <img src="/images/Go/unit_test/cover.png" alt="Go test cover" />
                                ä¸Šå›¾ä¸­æ¯ä¸ªç”¨ç»¿è‰²æ ‡è®°çš„è¯­å¥å—è¡¨ç¤ºè¢«è¦†ç›–äº†ï¼Œè€Œçº¢è‰²çš„è¡¨ç¤ºæ²¡æœ‰è¢«è¦†ç›–ã€‚</p>

                            <h1 id="åŸºå‡†æµ‹è¯•">åŸºå‡†æµ‹è¯•</h1>

                            <h2 id="åŸºå‡†æµ‹è¯•å‡½æ•°æ ¼å¼">åŸºå‡†æµ‹è¯•å‡½æ•°æ ¼å¼</h2>

                            <p>åŸºå‡†æµ‹è¯•å°±æ˜¯åœ¨ä¸€å®šçš„å·¥ä½œè´Ÿè½½ä¹‹ä¸‹æ£€æµ‹ç¨‹åºæ€§èƒ½çš„ä¸€ç§æ–¹æ³•ã€‚åŸºå‡†æµ‹è¯•çš„åŸºæœ¬æ ¼å¼å¦‚ä¸‹ï¼š</p>

                            <pre><code class="language-go">func BenchmarkName(b *testing.B){
    // ...
}
</code></pre>

                            <p>åŸºå‡†æµ‹è¯•ä»¥<code>Benchmark</code>ä¸ºå‰ç¼€ï¼Œéœ€è¦ä¸€ä¸ª<code>*testing.B</code>ç±»å‹çš„å‚æ•°bï¼ŒåŸºå‡†æµ‹è¯•å¿…é¡»è¦æ‰§è¡Œ<code>b.N</code>æ¬¡ï¼Œè¿™æ ·çš„æµ‹è¯•æ‰æœ‰å¯¹ç…§æ€§ï¼Œ<code>b.N</code>çš„å€¼æ˜¯ç³»ç»Ÿæ ¹æ®å®é™…æƒ…å†µå»è°ƒæ•´çš„ï¼Œä»è€Œä¿è¯æµ‹è¯•çš„ç¨³å®šæ€§ã€‚
                                <code>testing.B</code>æ‹¥æœ‰çš„æ–¹æ³•å¦‚ä¸‹ï¼š</p>

                            <pre><code class="language-go">func (c *B) Error(args ...interface{})
func (c *B) Errorf(format string, args ...interface{})
func (c *B) Fail()
func (c *B) FailNow()
func (c *B) Failed() bool
func (c *B) Fatal(args ...interface{})
func (c *B) Fatalf(format string, args ...interface{})
func (c *B) Log(args ...interface{})
func (c *B) Logf(format string, args ...interface{})
func (c *B) Name() string
func (b *B) ReportAllocs()
func (b *B) ResetTimer()
func (b *B) Run(name string, f func(b *B)) bool
func (b *B) RunParallel(body func(*PB))
func (b *B) SetBytes(n int64)
func (b *B) SetParallelism(p int)
func (c *B) Skip(args ...interface{})
func (c *B) SkipNow()
func (c *B) Skipf(format string, args ...interface{})
func (c *B) Skipped() bool
func (b *B) StartTimer()
func (b *B) StopTimer()
</code></pre>

                            <h2 id="åŸºå‡†æµ‹è¯•ç¤ºä¾‹">åŸºå‡†æµ‹è¯•ç¤ºä¾‹</h2>

                            <p>æˆ‘ä»¬ä¸ºsplitåŒ…ä¸­çš„<code>Split</code>å‡½æ•°ç¼–å†™åŸºå‡†æµ‹è¯•å¦‚ä¸‹ï¼š</p>

                            <pre><code class="language-go">func BenchmarkSplit(b *testing.B) {
	for i := 0; i &lt; b.N; i++ {
		Split(&quot;æ²™æ²³æœ‰æ²™åˆæœ‰æ²³&quot;, &quot;æ²™&quot;)
	}
}
</code></pre>

                            <p>åŸºå‡†æµ‹è¯•å¹¶ä¸ä¼šé»˜è®¤æ‰§è¡Œï¼Œéœ€è¦å¢åŠ <code>-bench</code>å‚æ•°ï¼Œæ‰€ä»¥æˆ‘ä»¬é€šè¿‡æ‰§è¡Œ<code>go test -bench=Split</code>å‘½ä»¤æ‰§è¡ŒåŸºå‡†æµ‹è¯•ï¼Œè¾“å‡ºç»“æœå¦‚ä¸‹ï¼š</p>

                            <pre><code class="language-bash">split $ go test -bench=Split
goos: darwin
goarch: amd64
pkg: github.com/Q1mi/studygo/code_demo/test_demo/split
BenchmarkSplit-8        10000000               203 ns/op
PASS
ok      github.com/Q1mi/studygo/code_demo/test_demo/split       2.255s
</code></pre>

                            <p>å…¶ä¸­<code>BenchmarkSplit-8</code>è¡¨ç¤ºå¯¹Splitå‡½æ•°è¿›è¡ŒåŸºå‡†æµ‹è¯•ï¼Œæ•°å­—<code>8</code>è¡¨ç¤º<code>GOMAXPROCS</code>çš„å€¼ï¼Œè¿™ä¸ªå¯¹äºå¹¶å‘åŸºå‡†æµ‹è¯•å¾ˆé‡è¦ã€‚<code>10000000</code>å’Œ<code>203ns/op</code>è¡¨ç¤ºæ¯æ¬¡è°ƒç”¨<code>Split</code>å‡½æ•°è€—æ—¶<code>203ns</code>ï¼Œè¿™ä¸ªç»“æœæ˜¯<code>10000000</code>æ¬¡è°ƒç”¨çš„å¹³å‡å€¼ã€‚</p>

                            <p>æˆ‘ä»¬è¿˜å¯ä»¥ä¸ºåŸºå‡†æµ‹è¯•æ·»åŠ <code>-benchmem</code>å‚æ•°ï¼Œæ¥è·å¾—å†…å­˜åˆ†é…çš„ç»Ÿè®¡æ•°æ®ã€‚</p>

                            <pre><code class="language-bash">split $ go test -bench=Split -benchmem
goos: darwin
goarch: amd64
pkg: github.com/Q1mi/studygo/code_demo/test_demo/split
BenchmarkSplit-8        10000000               215 ns/op             112 B/op          3 allocs/op
PASS
ok      github.com/Q1mi/studygo/code_demo/test_demo/split       2.394s
</code></pre>

                            <p>å…¶ä¸­ï¼Œ<code>112 B/op</code>è¡¨ç¤ºæ¯æ¬¡æ“ä½œå†…å­˜åˆ†é…äº†112å­—èŠ‚ï¼Œ<code>3 allocs/op</code>åˆ™è¡¨ç¤ºæ¯æ¬¡æ“ä½œè¿›è¡Œäº†3æ¬¡å†…å­˜åˆ†é…ã€‚
                                æˆ‘ä»¬å°†æˆ‘ä»¬çš„<code>Split</code>å‡½æ•°ä¼˜åŒ–å¦‚ä¸‹ï¼š</p>

                            <pre><code class="language-go">func Split(s, sep string) (result []string) {
	result = make([]string, 0, strings.Count(s, sep)+1)
	i := strings.Index(s, sep)
	for i &gt; -1 {
		result = append(result, s[:i])
		s = s[i+len(sep):] // è¿™é‡Œä½¿ç”¨len(sep)è·å–sepçš„é•¿åº¦
		i = strings.Index(s, sep)
	}
	result = append(result, s)
	return
}
</code></pre>

                            <p>è¿™ä¸€æ¬¡æˆ‘ä»¬æå‰ä½¿ç”¨makeå‡½æ•°å°†resultåˆå§‹åŒ–ä¸ºä¸€ä¸ªå®¹é‡è¶³å¤Ÿå¤§çš„åˆ‡ç‰‡ï¼Œè€Œä¸å†åƒä¹‹å‰ä¸€æ ·é€šè¿‡è°ƒç”¨appendå‡½æ•°æ¥è¿½åŠ ã€‚æˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹è¿™ä¸ªæ”¹è¿›ä¼šå¸¦æ¥å¤šå¤§çš„æ€§èƒ½æå‡ï¼š</p>

                            <pre><code class="language-bash">split $ go test -bench=Split -benchmem
goos: darwin
goarch: amd64
pkg: github.com/Q1mi/studygo/code_demo/test_demo/split
BenchmarkSplit-8        10000000               127 ns/op              48 B/op          1 allocs/op
PASS
ok      github.com/Q1mi/studygo/code_demo/test_demo/split       1.423s
</code></pre>

                            <p>è¿™ä¸ªä½¿ç”¨makeå‡½æ•°æå‰åˆ†é…å†…å­˜çš„æ”¹åŠ¨ï¼Œå‡å°‘äº†2/3çš„å†…å­˜åˆ†é…æ¬¡æ•°ï¼Œå¹¶ä¸”å‡å°‘äº†ä¸€åŠçš„å†…å­˜åˆ†é…ã€‚</p>

                            <h2 id="æ€§èƒ½æ¯”è¾ƒå‡½æ•°">æ€§èƒ½æ¯”è¾ƒå‡½æ•°</h2>

                            <p>ä¸Šé¢çš„åŸºå‡†æµ‹è¯•åªèƒ½å¾—åˆ°ç»™å®šæ“ä½œçš„ç»å¯¹è€—æ—¶ï¼Œä½†æ˜¯åœ¨å¾ˆå¤šæ€§èƒ½é—®é¢˜æ˜¯å‘ç”Ÿåœ¨ä¸¤ä¸ªä¸åŒæ“ä½œä¹‹é—´çš„ç›¸å¯¹è€—æ—¶ï¼Œæ¯”å¦‚åŒä¸€ä¸ªå‡½æ•°å¤„ç†1000ä¸ªå…ƒç´ çš„è€—æ—¶ä¸å¤„ç†1ä¸‡ç”šè‡³100ä¸‡ä¸ªå…ƒç´ çš„è€—æ—¶çš„å·®åˆ«æ˜¯å¤šå°‘ï¼Ÿå†æˆ–è€…å¯¹äºåŒä¸€ä¸ªä»»åŠ¡ç©¶ç«Ÿä½¿ç”¨å“ªç§ç®—æ³•æ€§èƒ½æœ€ä½³ï¼Ÿæˆ‘ä»¬é€šå¸¸éœ€è¦å¯¹ä¸¤ä¸ªä¸åŒç®—æ³•çš„å®ç°ä½¿ç”¨ç›¸åŒçš„è¾“å…¥æ¥è¿›è¡ŒåŸºå‡†æ¯”è¾ƒæµ‹è¯•ã€‚</p>

                            <p>æ€§èƒ½æ¯”è¾ƒå‡½æ•°é€šå¸¸æ˜¯ä¸€ä¸ªå¸¦æœ‰å‚æ•°çš„å‡½æ•°ï¼Œè¢«å¤šä¸ªä¸åŒçš„Benchmarkå‡½æ•°ä¼ å…¥ä¸åŒçš„å€¼æ¥è°ƒç”¨ã€‚ä¸¾ä¸ªä¾‹å­å¦‚ä¸‹ï¼š</p>

                            <pre><code class="language-go">func benchmark(b *testing.B, size int){/* ... */}
func Benchmark10(b *testing.B){ benchmark(b, 10) }
func Benchmark100(b *testing.B){ benchmark(b, 100) }
func Benchmark1000(b *testing.B){ benchmark(b, 1000) }
</code></pre>

                            <p>ä¾‹å¦‚æˆ‘ä»¬ç¼–å†™äº†ä¸€ä¸ªè®¡ç®—æ–æ³¢é‚£å¥‘æ•°åˆ—çš„å‡½æ•°å¦‚ä¸‹ï¼š</p>

                            <pre><code class="language-go">// fib.go

// Fib æ˜¯ä¸€ä¸ªè®¡ç®—ç¬¬nä¸ªæ–æ³¢é‚£å¥‘æ•°çš„å‡½æ•°
func Fib(n int) int {
	if n &lt; 2 {
		return n
	}
	return Fib(n-1) + Fib(n-2)
}
</code></pre>

                            <p>æˆ‘ä»¬ç¼–å†™çš„æ€§èƒ½æ¯”è¾ƒå‡½æ•°å¦‚ä¸‹ï¼š</p>

                            <pre><code class="language-go">// fib_test.go

func benchmarkFib(b *testing.B, n int) {
	for i := 0; i &lt; b.N; i++ {
		Fib(n)
	}
}

func BenchmarkFib1(b *testing.B)  { benchmarkFib(b, 1) }
func BenchmarkFib2(b *testing.B)  { benchmarkFib(b, 2) }
func BenchmarkFib3(b *testing.B)  { benchmarkFib(b, 3) }
func BenchmarkFib10(b *testing.B) { benchmarkFib(b, 10) }
func BenchmarkFib20(b *testing.B) { benchmarkFib(b, 20) }
func BenchmarkFib40(b *testing.B) { benchmarkFib(b, 40) }
</code></pre>

                            <p>è¿è¡ŒåŸºå‡†æµ‹è¯•ï¼š</p>

                            <pre><code class="language-bash">split $ go test -bench=.
goos: darwin
goarch: amd64
pkg: github.com/Q1mi/studygo/code_demo/test_demo/fib
BenchmarkFib1-8         1000000000               2.03 ns/op
BenchmarkFib2-8         300000000                5.39 ns/op
BenchmarkFib3-8         200000000                9.71 ns/op
BenchmarkFib10-8         5000000               325 ns/op
BenchmarkFib20-8           30000             42460 ns/op
BenchmarkFib40-8               2         638524980 ns/op
PASS
ok      github.com/Q1mi/studygo/code_demo/test_demo/fib 12.944s
</code></pre>

                            <p>è¿™é‡Œéœ€è¦æ³¨æ„çš„æ˜¯ï¼Œé»˜è®¤æƒ…å†µä¸‹ï¼Œæ¯ä¸ªåŸºå‡†æµ‹è¯•è‡³å°‘è¿è¡Œ1ç§’ã€‚å¦‚æœåœ¨Benchmarkå‡½æ•°è¿”å›æ—¶æ²¡æœ‰åˆ°1ç§’ï¼Œåˆ™b.Nçš„å€¼ä¼šæŒ‰1,2,5,10,20,50ï¼Œ&hellip;å¢åŠ ï¼Œå¹¶ä¸”å‡½æ•°å†æ¬¡è¿è¡Œã€‚</p>

                            <p>æœ€ç»ˆçš„BenchmarkFib40åªè¿è¡Œäº†ä¸¤æ¬¡ï¼Œæ¯æ¬¡è¿è¡Œçš„å¹³å‡å€¼åªæœ‰ä¸åˆ°ä¸€ç§’ã€‚åƒè¿™ç§æƒ…å†µä¸‹æˆ‘ä»¬åº”è¯¥å¯ä»¥ä½¿ç”¨<code>-benchtime</code>æ ‡å¿—å¢åŠ æœ€å°åŸºå‡†æ—¶é—´ï¼Œä»¥äº§ç”Ÿæ›´å‡†ç¡®çš„ç»“æœã€‚ä¾‹å¦‚ï¼š</p>

                            <pre><code class="language-bash">split $ go test -bench=Fib40 -benchtime=20s
goos: darwin
goarch: amd64
pkg: github.com/Q1mi/studygo/code_demo/test_demo/fib
BenchmarkFib40-8              50         663205114 ns/op
PASS
ok      github.com/Q1mi/studygo/code_demo/test_demo/fib 33.849s
</code></pre>

                            <p>è¿™ä¸€æ¬¡<code>BenchmarkFib40</code>å‡½æ•°è¿è¡Œäº†50æ¬¡ï¼Œç»“æœå°±ä¼šæ›´å‡†ç¡®ä¸€äº›äº†ã€‚</p>

                            <p>ä½¿ç”¨æ€§èƒ½æ¯”è¾ƒå‡½æ•°åšæµ‹è¯•çš„æ—¶å€™ä¸€ä¸ªå®¹æ˜“çŠ¯çš„é”™è¯¯å°±æ˜¯æŠŠ<code>b.N</code>ä½œä¸ºè¾“å…¥çš„å¤§å°ï¼Œä¾‹å¦‚ä»¥ä¸‹ä¸¤ä¸ªä¾‹å­éƒ½æ˜¯é”™è¯¯çš„ç¤ºèŒƒï¼š</p>

                            <pre><code class="language-go">// é”™è¯¯ç¤ºèŒƒ1
func BenchmarkFibWrong(b *testing.B) {
	for n := 0; n &lt; b.N; n++ {
		Fib(n)
	}
}

// é”™è¯¯ç¤ºèŒƒ2
func BenchmarkFibWrong2(b *testing.B) {
	Fib(b.N)
}
</code></pre>

                            <h2 id="é‡ç½®æ—¶é—´">é‡ç½®æ—¶é—´</h2>

                            <p><code>b.ResetTimer</code>ä¹‹å‰çš„å¤„ç†ä¸ä¼šæ”¾åˆ°æ‰§è¡Œæ—¶é—´é‡Œï¼Œä¹Ÿä¸ä¼šè¾“å‡ºåˆ°æŠ¥å‘Šä¸­ï¼Œæ‰€ä»¥å¯ä»¥åœ¨ä¹‹å‰åšä¸€äº›ä¸è®¡åˆ’ä½œä¸ºæµ‹è¯•æŠ¥å‘Šçš„æ“ä½œã€‚ä¾‹å¦‚ï¼š</p>

                            <pre><code class="language-go">func BenchmarkSplit(b *testing.B) {
	time.Sleep(5 * time.Second) // å‡è®¾éœ€è¦åšä¸€äº›è€—æ—¶çš„æ— å…³æ“ä½œ
	b.ResetTimer()              // é‡ç½®è®¡æ—¶å™¨
	for i := 0; i &lt; b.N; i++ {
		Split(&quot;æ²™æ²³æœ‰æ²™åˆæœ‰æ²³&quot;, &quot;æ²™&quot;)
	}
}
</code></pre>

                            <h2 id="å¹¶è¡Œæµ‹è¯•">å¹¶è¡Œæµ‹è¯•</h2>

                            <p><code>func (b *B) RunParallel(body func(*PB))</code>ä¼šä»¥å¹¶è¡Œçš„æ–¹å¼æ‰§è¡Œç»™å®šçš„åŸºå‡†æµ‹è¯•ã€‚</p>

                            <p><code>RunParallel</code>ä¼šåˆ›å»ºå‡ºå¤šä¸ª<code>goroutine</code>ï¼Œå¹¶å°†<code>b.N</code>åˆ†é…ç»™è¿™äº›<code>goroutine</code>æ‰§è¡Œï¼Œ å…¶ä¸­<code>goroutine</code>æ•°é‡çš„é»˜è®¤å€¼ä¸º<code>GOMAXPROCS</code>ã€‚ç”¨æˆ·å¦‚æœæƒ³è¦å¢åŠ éCPUå—é™ï¼ˆnon-CPU-boundï¼‰åŸºå‡†æµ‹è¯•çš„å¹¶è¡Œæ€§ï¼Œ é‚£ä¹ˆå¯ä»¥åœ¨<code>RunParallel</code>ä¹‹å‰è°ƒç”¨<code>SetParallelism</code> ã€‚<code>RunParallel</code>é€šå¸¸ä¼šä¸<code>-cpu</code>æ ‡å¿—ä¸€åŒä½¿ç”¨ã€‚</p>

                            <pre><code class="language-go">func BenchmarkSplitParallel(b *testing.B) {
	// b.SetParallelism(1) // è®¾ç½®ä½¿ç”¨çš„CPUæ•°
	b.RunParallel(func(pb *testing.PB) {
		for pb.Next() {
			Split(&quot;æ²™æ²³æœ‰æ²™åˆæœ‰æ²³&quot;, &quot;æ²™&quot;)
		}
	})
}
</code></pre>

                            <p>æ‰§è¡Œä¸€ä¸‹åŸºå‡†æµ‹è¯•ï¼š</p>

                            <pre><code class="language-bash">split $ go test -bench=.
goos: darwin
goarch: amd64
pkg: github.com/Q1mi/studygo/code_demo/test_demo/split
BenchmarkSplit-8                10000000               131 ns/op
BenchmarkSplitParallel-8        50000000                36.1 ns/op
PASS
ok      github.com/Q1mi/studygo/code_demo/test_demo/split       3.308s
</code></pre>

                            <p>è¿˜å¯ä»¥é€šè¿‡åœ¨æµ‹è¯•å‘½ä»¤åæ·»åŠ <code>-cpu</code>å‚æ•°å¦‚<code>go test -bench=. -cpu 1</code>æ¥æŒ‡å®šä½¿ç”¨çš„CPUæ•°é‡ã€‚</p>

                            <h1 id="setupä¸teardown">Setupä¸TearDown</h1>

                            <p>æµ‹è¯•ç¨‹åºæœ‰æ—¶éœ€è¦åœ¨æµ‹è¯•ä¹‹å‰è¿›è¡Œé¢å¤–çš„è®¾ç½®ï¼ˆsetupï¼‰æˆ–åœ¨æµ‹è¯•ä¹‹åè¿›è¡Œæ‹†å¸ï¼ˆteardownï¼‰ã€‚</p>

                            <h2 id="testmain">TestMain</h2>

                            <p>é€šè¿‡åœ¨<code>*_test.go</code>æ–‡ä»¶ä¸­å®šä¹‰<code>TestMain</code>å‡½æ•°æ¥å¯ä»¥åœ¨æµ‹è¯•ä¹‹å‰è¿›è¡Œé¢å¤–çš„è®¾ç½®ï¼ˆsetupï¼‰æˆ–åœ¨æµ‹è¯•ä¹‹åè¿›è¡Œæ‹†å¸ï¼ˆteardownï¼‰æ“ä½œã€‚</p>

                            <p>å¦‚æœæµ‹è¯•æ–‡ä»¶åŒ…å«å‡½æ•°:<code>func TestMain(m *testing.M)</code>é‚£ä¹ˆç”Ÿæˆçš„æµ‹è¯•ä¼šå…ˆè°ƒç”¨ TestMain(m)ï¼Œç„¶åå†è¿è¡Œå…·ä½“æµ‹è¯•ã€‚<code>TestMain</code>è¿è¡Œåœ¨ä¸»<code>goroutine</code>ä¸­, å¯ä»¥åœ¨è°ƒç”¨ <code>m.Run</code>å‰ååšä»»ä½•è®¾ç½®ï¼ˆsetupï¼‰å’Œæ‹†å¸ï¼ˆteardownï¼‰ã€‚é€€å‡ºæµ‹è¯•çš„æ—¶å€™åº”è¯¥ä½¿ç”¨<code>m.Run</code>çš„è¿”å›å€¼ä½œä¸ºå‚æ•°è°ƒç”¨<code>os.Exit</code>ã€‚</p>

                            <p>ä¸€ä¸ªä½¿ç”¨<code>TestMain</code>æ¥è®¾ç½®Setupå’ŒTearDownçš„ç¤ºä¾‹å¦‚ä¸‹ï¼š</p>

                            <pre><code class="language-go">func TestMain(m *testing.M) {
	fmt.Println(&quot;write setup code here...&quot;) // æµ‹è¯•ä¹‹å‰çš„åšä¸€äº›è®¾ç½®
	// å¦‚æœ TestMain ä½¿ç”¨äº† flagsï¼Œè¿™é‡Œåº”è¯¥åŠ ä¸Šflag.Parse()
	retCode := m.Run()                         // æ‰§è¡Œæµ‹è¯•
	fmt.Println(&quot;write teardown code here...&quot;) // æµ‹è¯•ä¹‹ååšä¸€äº›æ‹†å¸å·¥ä½œ
	os.Exit(retCode)                           // é€€å‡ºæµ‹è¯•
}
</code></pre>

                            <p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼šåœ¨è°ƒç”¨<code>TestMain</code>æ—¶, <code>flag.Parse</code>å¹¶æ²¡æœ‰è¢«è°ƒç”¨ã€‚æ‰€ä»¥å¦‚æœ<code>TestMain</code> ä¾èµ–äºcommand-lineæ ‡å¿— (åŒ…æ‹¬ testing åŒ…çš„æ ‡è®°), åˆ™åº”è¯¥æ˜¾ç¤ºçš„è°ƒç”¨<code>flag.Parse</code>ã€‚</p>

                            <h2 id="å­æµ‹è¯•çš„setupä¸teardown">å­æµ‹è¯•çš„Setupä¸Teardown</h2>

                            <p>æœ‰æ—¶å€™æˆ‘ä»¬å¯èƒ½éœ€è¦ä¸ºæ¯ä¸ªæµ‹è¯•é›†è®¾ç½®Setupä¸Teardownï¼Œä¹Ÿæœ‰å¯èƒ½éœ€è¦ä¸ºæ¯ä¸ªå­æµ‹è¯•è®¾ç½®Setupä¸Teardownã€‚ä¸‹é¢æˆ‘ä»¬å®šä¹‰ä¸¤ä¸ªå‡½æ•°å·¥å…·å‡½æ•°å¦‚ä¸‹ï¼š</p>

                            <pre><code class="language-go">// æµ‹è¯•é›†çš„Setupä¸Teardown
func setupTestCase(t *testing.T) func(t *testing.T) {
	t.Log(&quot;å¦‚æœ‰éœ€è¦åœ¨æ­¤æ‰§è¡Œ:æµ‹è¯•ä¹‹å‰çš„setup&quot;)
	return func(t *testing.T) {
		t.Log(&quot;å¦‚æœ‰éœ€è¦åœ¨æ­¤æ‰§è¡Œ:æµ‹è¯•ä¹‹åçš„teardown&quot;)
	}
}

// å­æµ‹è¯•çš„Setupä¸Teardown
func setupSubTest(t *testing.T) func(t *testing.T) {
	t.Log(&quot;å¦‚æœ‰éœ€è¦åœ¨æ­¤æ‰§è¡Œ:å­æµ‹è¯•ä¹‹å‰çš„setup&quot;)
	return func(t *testing.T) {
		t.Log(&quot;å¦‚æœ‰éœ€è¦åœ¨æ­¤æ‰§è¡Œ:å­æµ‹è¯•ä¹‹åçš„teardown&quot;)
	}
}
</code></pre>

                            <p>ä½¿ç”¨æ–¹å¼å¦‚ä¸‹ï¼š</p>

                            <pre><code class="language-go">func TestSplit(t *testing.T) {
	type test struct { // å®šä¹‰testç»“æ„ä½“
		input string
		sep   string
		want  []string
	}
	tests := map[string]test{ // æµ‹è¯•ç”¨ä¾‹ä½¿ç”¨mapå­˜å‚¨
		&quot;simple&quot;:      {input: &quot;a:b:c&quot;, sep: &quot;:&quot;, want: []string{&quot;a&quot;, &quot;b&quot;, &quot;c&quot;}},
		&quot;wrong sep&quot;:   {input: &quot;a:b:c&quot;, sep: &quot;,&quot;, want: []string{&quot;a:b:c&quot;}},
		&quot;more sep&quot;:    {input: &quot;abcd&quot;, sep: &quot;bc&quot;, want: []string{&quot;a&quot;, &quot;d&quot;}},
		&quot;leading sep&quot;: {input: &quot;æ²™æ²³æœ‰æ²™åˆæœ‰æ²³&quot;, sep: &quot;æ²™&quot;, want: []string{&quot;&quot;, &quot;æ²³æœ‰&quot;, &quot;åˆæœ‰æ²³&quot;}},
	}
	teardownTestCase := setupTestCase(t) // æµ‹è¯•ä¹‹å‰æ‰§è¡Œsetupæ“ä½œ
	defer teardownTestCase(t)            // æµ‹è¯•ä¹‹åæ‰§è¡Œtestdoenæ“ä½œ

	for name, tc := range tests {
		t.Run(name, func(t *testing.T) { // ä½¿ç”¨t.Run()æ‰§è¡Œå­æµ‹è¯•
			teardownSubTest := setupSubTest(t) // å­æµ‹è¯•ä¹‹å‰æ‰§è¡Œsetupæ“ä½œ
			defer teardownSubTest(t)           // æµ‹è¯•ä¹‹åæ‰§è¡Œtestdoenæ“ä½œ
			got := Split(tc.input, tc.sep)
			if !reflect.DeepEqual(got, tc.want) {
				t.Errorf(&quot;expected:%#v, got:%#v&quot;, tc.want, got)
			}
		})
	}
}
</code></pre>

                            <p>æµ‹è¯•ç»“æœå¦‚ä¸‹ï¼š</p>

                            <pre><code class="language-bash">split $ go test -v
=== RUN   TestSplit
=== RUN   TestSplit/simple
=== RUN   TestSplit/wrong_sep
=== RUN   TestSplit/more_sep
=== RUN   TestSplit/leading_sep
--- PASS: TestSplit (0.00s)
    split_test.go:71: å¦‚æœ‰éœ€è¦åœ¨æ­¤æ‰§è¡Œ:æµ‹è¯•ä¹‹å‰çš„setup
    --- PASS: TestSplit/simple (0.00s)
        split_test.go:79: å¦‚æœ‰éœ€è¦åœ¨æ­¤æ‰§è¡Œ:å­æµ‹è¯•ä¹‹å‰çš„setup
        split_test.go:81: å¦‚æœ‰éœ€è¦åœ¨æ­¤æ‰§è¡Œ:å­æµ‹è¯•ä¹‹åçš„teardown
    --- PASS: TestSplit/wrong_sep (0.00s)
        split_test.go:79: å¦‚æœ‰éœ€è¦åœ¨æ­¤æ‰§è¡Œ:å­æµ‹è¯•ä¹‹å‰çš„setup
        split_test.go:81: å¦‚æœ‰éœ€è¦åœ¨æ­¤æ‰§è¡Œ:å­æµ‹è¯•ä¹‹åçš„teardown
    --- PASS: TestSplit/more_sep (0.00s)
        split_test.go:79: å¦‚æœ‰éœ€è¦åœ¨æ­¤æ‰§è¡Œ:å­æµ‹è¯•ä¹‹å‰çš„setup
        split_test.go:81: å¦‚æœ‰éœ€è¦åœ¨æ­¤æ‰§è¡Œ:å­æµ‹è¯•ä¹‹åçš„teardown
    --- PASS: TestSplit/leading_sep (0.00s)
        split_test.go:79: å¦‚æœ‰éœ€è¦åœ¨æ­¤æ‰§è¡Œ:å­æµ‹è¯•ä¹‹å‰çš„setup
        split_test.go:81: å¦‚æœ‰éœ€è¦åœ¨æ­¤æ‰§è¡Œ:å­æµ‹è¯•ä¹‹åçš„teardown
    split_test.go:73: å¦‚æœ‰éœ€è¦åœ¨æ­¤æ‰§è¡Œ:æµ‹è¯•ä¹‹åçš„teardown
=== RUN   ExampleSplit
--- PASS: ExampleSplit (0.00s)
PASS
ok      github.com/Q1mi/studygo/code_demo/test_demo/split       0.006s
</code></pre>

                            <h1 id="ç¤ºä¾‹å‡½æ•°">ç¤ºä¾‹å‡½æ•°</h1>

                            <h2 id="ç¤ºä¾‹å‡½æ•°çš„æ ¼å¼">ç¤ºä¾‹å‡½æ•°çš„æ ¼å¼</h2>

                            <p>è¢«<code>go test</code>ç‰¹æ®Šå¯¹å¾…çš„ç¬¬ä¸‰ç§å‡½æ•°å°±æ˜¯ç¤ºä¾‹å‡½æ•°ï¼Œå®ƒä»¬çš„å‡½æ•°åä»¥<code>Example</code>ä¸ºå‰ç¼€ã€‚å®ƒä»¬æ—¢æ²¡æœ‰å‚æ•°ä¹Ÿæ²¡æœ‰è¿”å›å€¼ã€‚æ ‡å‡†æ ¼å¼å¦‚ä¸‹ï¼š</p>

                            <pre><code class="language-go">func ExampleName() {
    // ...
}
</code></pre>

                            <h2 id="ç¤ºä¾‹å‡½æ•°ç¤ºä¾‹">ç¤ºä¾‹å‡½æ•°ç¤ºä¾‹</h2>

                            <p>ä¸‹é¢çš„ä»£ç æ˜¯æˆ‘ä»¬ä¸º<code>Split</code>å‡½æ•°ç¼–å†™çš„ä¸€ä¸ªç¤ºä¾‹å‡½æ•°ï¼š</p>

                            <pre><code class="language-go">func ExampleSplit() {
	fmt.Println(split.Split(&quot;a:b:c&quot;, &quot;:&quot;))
	fmt.Println(split.Split(&quot;æ²™æ²³æœ‰æ²™åˆæœ‰æ²³&quot;, &quot;æ²™&quot;))
	// Output:
	// [a b c]
	// [ æ²³æœ‰ åˆæœ‰æ²³]
}
</code></pre>

                            <p>ä¸ºä½ çš„ä»£ç ç¼–å†™ç¤ºä¾‹ä»£ç æœ‰å¦‚ä¸‹ä¸‰ä¸ªç”¨å¤„ï¼š</p>

                            <ol>
                                <li><p>ç¤ºä¾‹å‡½æ•°èƒ½å¤Ÿä½œä¸ºæ–‡æ¡£ç›´æ¥ä½¿ç”¨ï¼Œä¾‹å¦‚åŸºäºwebçš„godocä¸­èƒ½æŠŠç¤ºä¾‹å‡½æ•°ä¸å¯¹åº”çš„å‡½æ•°æˆ–åŒ…ç›¸å…³è”ã€‚</p></li>

                                <li><p>ç¤ºä¾‹å‡½æ•°åªè¦åŒ…å«äº†<code>// Output:</code>ä¹Ÿæ˜¯å¯ä»¥é€šè¿‡<code>go test</code>è¿è¡Œçš„å¯æ‰§è¡Œæµ‹è¯•ã€‚</p>

                                    <pre><code class="language-bash">split $ go test -run Example
PASS
ok      github.com/Q1mi/studygo/code_demo/test_demo/split       0.006s
</code></pre></li>

                                <li><p>ç¤ºä¾‹å‡½æ•°æä¾›äº†å¯ä»¥ç›´æ¥è¿è¡Œçš„ç¤ºä¾‹ä»£ç ï¼Œå¯ä»¥ç›´æ¥åœ¨<code>golang.org</code>çš„<code>godoc</code>æ–‡æ¡£æœåŠ¡å™¨ä¸Šä½¿ç”¨<code>Go Playground</code>è¿è¡Œç¤ºä¾‹ä»£ç ã€‚ä¸‹å›¾ä¸º<code>strings.ToUpper</code>å‡½æ•°åœ¨Playgroundçš„ç¤ºä¾‹å‡½æ•°æ•ˆæœã€‚
                                    <img src="/images/Go/unit_test/example.png" alt="Go Playground" /></p></li>
                            </ol>

                            <h1 id="ç»ƒä¹ é¢˜">ç»ƒä¹ é¢˜</h1>

                            <ol>
                                <li>ç¼–å†™ä¸€ä¸ªå›æ–‡æ£€æµ‹å‡½æ•°ï¼Œå¹¶ä¸ºå…¶ç¼–å†™å•å…ƒæµ‹è¯•å’ŒåŸºå‡†æµ‹è¯•ï¼Œæ ¹æ®æµ‹è¯•çš„ç»“æœé€æ­¥å¯¹å…¶è¿›è¡Œä¼˜åŒ–ã€‚ï¼ˆå›æ–‡ï¼šä¸€ä¸ªå­—ç¬¦ä¸²æ­£åºå’Œé€†åºä¸€æ ·ï¼Œå¦‚â€œMadam,I&rsquo;mAdamâ€ã€â€œæ²¹ç¯å°‘ç¯æ²¹â€ç­‰ã€‚ï¼‰</li>
                            </ol>
                            <hr>
                            <p>
                                <img src="/images/wxgzh_qrcode.png" alt="æ‰«ç å…³æ³¨å¾®ä¿¡å…¬ä¼—å·">
                            </p>
                        </div>

                        <div id="gitalk-container"></div>



                        <div class="post-archive">
                            <h2>See Also</h2>
                            <ul class="listing">

                                <li><a href="/posts/Go/go_http/">Goè¯­è¨€åŸºç¡€ä¹‹net/http</a></li>

                                <li><a href="/posts/Go/15_socket/">Goè¯­è¨€åŸºç¡€ä¹‹ç½‘ç»œç¼–ç¨‹</a></li>

                                <li><a href="/posts/Go/concurrence/">Goè¯­è¨€åŸºç¡€ä¹‹å¹¶å‘</a></li>

                                <li><a href="/posts/Go/13_reflect/">Goè¯­è¨€åŸºç¡€ä¹‹åå°„</a></li>

                                <li><a href="/posts/Go/12-interface/">Goè¯­è¨€åŸºç¡€ä¹‹æ¥å£</a></li>

                            </ul>
                        </div>


                        <div class="post-meta meta-tags">

                            <ul class="clearfix">

                                <li><a href="https://www.liwenzhou.com/tags/Golang">Golang</a></li>

                            </ul>

                        </div>
                    </article>





                </div>
            </div>
            <div id="secondary">
                <section class="widget">

                    <div id="search" accept-charset="utf-8" _lpchecked="1">
                        <ul id="s-u" class="search-result"></ul>
                        <input id="s-k" type="text" autocomplete="off" name="key" maxlength="20" placeholder="æœç´¢ä¸€ä¸‹">
                        <button id="s-b" type="button" class="submit icon-search"></button>
                    </div>
                </section>

                <section class="widget">
                    <h3 class="widget-title">ğŸ‘‡ğŸ»ğŸ‘‡ğŸ»ğŸ‘‡ğŸ»æˆ‘äº²è‡ªå½•åˆ¶çš„è§†é¢‘è¯¾ç¨‹</h3>
                    <a href="https://study.163.com/course/courseMain.htm?courseId=1210171207&share=2&shareId=480000002229610" target="_blank"><img src="/images/goweb2.png" width="250"></a>

                    <a href="https://study.163.com/course/courseMain.htm?courseId=1212937804&share=2&shareId=480000002229610" target="_blank"><img src="/images/micro.png" width="250"></a>

                </section>
                <section class="widget">
                    <h3 class="widget-title">æœ€è¿‘æ–‡ç« </h3>
                    <ul class="widget-list">

                        <li>
                            <a href="https://www.liwenzhou.com/posts/Go/golang-menu/" title="ã€ç½®é¡¶ã€‘Goè¯­è¨€å­¦ä¹ ä¹‹è·¯/Goè¯­è¨€æ•™ç¨‹">ã€ç½®é¡¶ã€‘Goè¯­è¨€å­¦ä¹ ä¹‹è·¯/Goè¯­è¨€æ•™ç¨‹</a>
                        </li>

                        <li>
                            <a href="https://www.liwenzhou.com/posts/Go/oneof-wrappers-field_mask/" title="protobufä¸­ä½¿ç”¨oneofã€WrapValueå’ŒFieldMask">protobufä¸­ä½¿ç”¨oneofã€WrapValueå’ŒFieldMask</a>
                        </li>

                        <li>
                            <a href="https://www.liwenzhou.com/posts/Go/grpc-gateway/" title="gRPC-Gatewayä½¿ç”¨æŒ‡å—">gRPC-Gatewayä½¿ç”¨æŒ‡å—</a>
                        </li>

                        <li>
                            <a href="https://www.liwenzhou.com/posts/Go/apollo/" title="Apolloé…ç½®ä¸­å¿ƒ">Apolloé…ç½®ä¸­å¿ƒ</a>
                        </li>

                        <li>
                            <a href="https://www.liwenzhou.com/posts/Go/consul/" title="åŸºäºconsulå®ç°æœåŠ¡æ³¨å†Œä¸å‘ç°">åŸºäºconsulå®ç°æœåŠ¡æ³¨å†Œä¸å‘ç°</a>
                        </li>

                        <li>
                            <a href="https://www.liwenzhou.com/posts/Go/Protobuf3-language-guide-zh/" title="Protocol Buffers V3ä¸­æ–‡è¯­æ³•æŒ‡å—[ç¿»è¯‘]">Protocol Buffers V3ä¸­æ–‡è¯­æ³•æŒ‡å—[ç¿»è¯‘]</a>
                        </li>

                        <li>
                            <a href="https://www.liwenzhou.com/posts/Go/rpc/" title="RPCåŸç†ä¸Go RPC">RPCåŸç†ä¸Go RPC</a>
                        </li>

                        <li>
                            <a href="https://www.liwenzhou.com/posts/Go/error-in-goroutine/" title="å¤„ç†å¹¶å‘é”™è¯¯">å¤„ç†å¹¶å‘é”™è¯¯</a>
                        </li>

                        <li>
                            <a href="https://www.liwenzhou.com/posts/Go/golang-unit-test-6/" title="Goå•æµ‹ä»é›¶åˆ°æºœç³»åˆ—6â€”ç¼–å†™å¯æµ‹è¯•çš„ä»£ç ">Goå•æµ‹ä»é›¶åˆ°æºœç³»åˆ—6â€”ç¼–å†™å¯æµ‹è¯•çš„ä»£ç </a>
                        </li>

                        <li>
                            <a href="https://www.liwenzhou.com/posts/Go/error/" title="Erroræ¥å£å’Œé”™è¯¯å¤„ç†">Erroræ¥å£å’Œé”™è¯¯å¤„ç†</a>
                        </li>

                    </ul>
                </section>



                <section class="widget">
                    <h3 class="widget-title">åˆ†ç±»</h3>
                    <ul class="widget-list">

                        <li>
                            <a href="https://www.liwenzhou.com/categories/Development/">Development(14)</a>
                        </li>

                        <li>
                            <a href="https://www.liwenzhou.com/categories/Django/">Django(3)</a>
                        </li>

                        <li>
                            <a href="https://www.liwenzhou.com/categories/Front-end/">Front-end(1)</a>
                        </li>

                        <li>
                            <a href="https://www.liwenzhou.com/categories/Golang/">Golang(98)</a>
                        </li>

                        <li>
                            <a href="https://www.liwenzhou.com/categories/JavaScript/">JavaScript(1)</a>
                        </li>

                        <li>
                            <a href="https://www.liwenzhou.com/categories/Python/">Python(13)</a>
                        </li>

                    </ul>
                </section>

                <section class="widget">
                    <h3 class="widget-title">æ ‡ç­¾</h3>
                    <div class="tagcloud">

                        <a href="https://www.liwenzhou.com/tags/Development/">Development</a>

                        <a href="https://www.liwenzhou.com/tags/Django/">Django</a>

                        <a href="https://www.liwenzhou.com/tags/Golang/">Golang</a>

                        <a href="https://www.liwenzhou.com/tags/Python/">Python</a>

                        <a href="https://www.liwenzhou.com/tags/about/">about</a>

                        <a href="https://www.liwenzhou.com/tags/front-end/">front-end</a>

                    </div>
                </section>


                <section class="widget">
                    <h3 class="widget-title">å‹æƒ…é“¾æ¥</h3>
                    <ul class="widget-list">

                        <li>
                            <a target="_blank" href="https://geektutu.com" title="è‡´åŠ›äºåˆ†äº«æœ‰è¶£çš„æŠ€æœ¯å®è·µ">æå®¢å…”å…”-æœ‰è¶£çš„æŠ€æœ¯å®è·µ</a>
                        </li>

                        <li>
                            <a target="_blank" href="https://draveness.me/golang/" title="ç¯å¡”">draveness-Goè¯­è¨€è®¾è®¡ä¸å®ç°</a>
                        </li>

                        <li>
                            <a target="_blank" href="https://www.cnblogs.com/liwenzhou/" title="Pythonå…¨æ ˆä¹‹è·¯">Q1mi-Pythonå…¨æ ˆä¹‹è·¯</a>
                        </li>

                        <li>
                            <a target="_blank" href="https://www.cnblogs.com/zhaof" title="Python/Goè¯­è¨€ä¹‹è·¯">èµµå‡¡çš„åšå®¢</a>
                        </li>

                        <li>
                            <a target="_blank" href="http://resn.cnblogs.com/" title="R_e-åšå®¢å›­">R_e-åšå®¢å›­</a>
                        </li>

                        <li>
                            <a target="_blank" href="http://roddypy.com/" title="ç½—è¿ª&#39;s Blog">ç½—è¿ª&#39;s Blog</a>
                        </li>

                    </ul>
                </section>


                <section class="widget">
                    <h3 class="widget-title">å¾®ä¿¡å…¬ä¼—å·</h3>
                    <img src="/images/qrcode_for_gzh.jpg" width="258" height="258">
                </section>

                <section class="widget">
                    <h3 class="widget-title">å…¶å®ƒ</h3>
                    <ul class="widget-list">
                        <li><a href="https://www.liwenzhou.com/index.xml">æ–‡ç«  RSS</a></li>
                    </ul>
                </section>
            </div>
        </div>
    </div>
</div>
<footer id="footer">
    <div class="container">
        &copy; 2022 <a href="https://www.liwenzhou.com">ææ–‡å‘¨çš„åšå®¢ By ææ–‡å‘¨</a>.æœ¬ç«™åšå®¢æœªç»æˆæƒç¦æ­¢è½¬è½½.
        Powered by <a rel="nofollow noreferer noopener" href="https://gohugo.io" target="_blank">Hugo</a>.
        <a href="http://www.flysnow.org/" target="_blank">Theme</a> based on <a href="https://github.com/rujews/maupassant-hugo" target="_blank">maupassant</a>.<a href="https://beian.miit.gov.cn">äº¬ICPå¤‡15037996å·-1</a>.

    </div>
</footer>


<script type="text/javascript" src="/js/page.js" async="true"></script>
<script type="text/javascript" src="/js/prism.js" async="true"></script>
<script src='https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML' async></script>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.css">
<script src="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.js"></script>

<a id="rocket" href="#top"></a>
<script type="text/javascript" src="/js/totop.js?v=0.0.0" async="true"></script>



<script type="text/javascript" src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" async></script>




<script src="/js/bootstrap.min.js"></script>

<script src="/js/post_category.1.js"></script>

</body>
</html>
